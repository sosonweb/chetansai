<!DOCTYPE html>
<html>
<head>
<!--tags for the bootstrap-->
	<title>Computer Science Department</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="validation.js"</script></script>
  <link rel="stylesheet" href="style.css">
  
  <script>
  // Get the current time
let now = new Date();
let hour = now.getHours();

// Get the stored name from the cookie
let name = getCookie("name");

if (!name) {
  // If the name is not set in the cookie, prompt the user to enter their name
  name = prompt("Please enter your name:");

  // Set the cookie with the entered name
  let expirationDate = new Date();
  expirationDate.setDate(expirationDate.getDate() + 30);
  document.cookie = `name=${name}; expires=${expirationDate.toUTCString()}`;
} else {
  // Trim any whitespace from the stored name
  name = name.trim();
}

// Determine the appropriate greeting based on the time of day
let greeting;
if (hour < 12) {
  greeting = "Good morning";
} else if (hour < 18) {
  greeting = "Good afternoon";
} else {
  greeting = "Good evening";
}

// Display the greeting and user's name
document.write(`<h1>${greeting}, ${name}, welcome to SWE642 Survey</h1>`);

function differentName() {
  // Clear the stored name in the cookie
  document.cookie = `name=; expires=Thu, 01 Jan 1970 00:00:00 UTC`;

  // Reload the page to prompt the user to enter a new name
  location.reload();
}

function getCookie(name) {
  let cookieValue = null;
  if (document.cookie && document.cookie !== "") {
    let cookies = document.cookie.split(";");

    // Loop through all cookies to find the one with the specified name
    for (let i = 0; i < cookies.length; i++) {
      let cookie = cookies[i].trim();
      if (cookie.substring(0, name.length + 1) === `${name}=`) {
        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
        break;
      }
    }
  }
  return cookieValue;
}

function avgandmax() {
  const input = document.getElementById("data").value;
  const numbers = input.split(",").map(num => Number(num.trim()));
  
  if (numbers.length !== 10 || numbers.some(num => isNaN(num) || num < 1 || num > 100)) {
    alert("Please enter exactly 10 comma-separated values between 1 and 100.");
    return;
  }
  
  const sum = numbers.reduce((acc, num) => acc + num, 0);
  const max = Math.max(...numbers);
  const average = sum / numbers.length;
  
  document.getElementById("average").innerHTML = "Average: " + average.toFixed(2);
  document.getElementById("maximum").innerHTML = "Maximum: " + max;
}



  </script>
</head>
<body><!--the header part of the page with the dept name-->
    <div class="header">
		<div class="container">
		<h1>
			<img src="https://science.gmu.edu/themes/custom/newcity/logo.svg" width="450" height="100" >
		</h1>
		</div>
		</div>
		<hr style="height:5px;border-width:0;color:rgb(213, 209, 209);background-color:rgb(39, 246, 39);margin: 0px">
		<div class="boxed">
		<h1 align="center"><b> Department of Computer Science GMU feedback_form</b></h1>
	</div><!--different inputs to the form that needs to be validated-->
    <form autocomplete="on" style="padding-left: 10px;">
    <div class="form-group">
        <label for="username">Name:</label><span style="color:#ff0000">*</span>
        <input type="text" id="username" name="username"  > 
    </div>
    <div class="form-group">
      <label for="address">Address:</label><span style="color:#ff0000">*</span> 
      <input type="text" id="address" name="address"  >
    </div>
    <div class="form-group">
      <label for="zip">Zip:</label><span style="color:#ff0000">*</span> 
      <input type="text" id="zip" name="zip" placeholder="*****" onblur="handleZipcodeBlur()" >
    </div>
    <div class="form-group">
      <label for="city">City:</label><span style="color:#ff0000">*</span> 
      <input type="text" id="city" name="city" >
    </div>
    <div class="form-group">
      <label for="state">State:</label><span style="color:#ff0000">*</span> 
      <input type="text" id="state" name="state" >
    </div>

    <div class="form-group">
      <label for="telephone">Telephone:</label><span style="color:#ff0000">*</span> 
      <input type="tel" id="telephone" name="telephone" placeholder="1234567890" >
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" placeholder="name@xyz.com">
    </div> 
    <div class="form-group">
      <label for="url">URL:</label>
      <input type="url" id="url" name="url" placeholder="https://www.***.com" >
    </div>
    <div class="form-group">
      <label for="date">Date of survey:</label>
      <input type="date" id="date">
    </div>
<!--gives different options form in the month-->
    <div class="form-group">
      <label for="graduation">graduation:</label>
      <input list="graduation-months" name="graduation-month" >
      <datalist id="graduation-months">
      <option value="January">
      <option value="February">
      <option value="March">
      <option value="April">
      <option value="May">
      <option value="June">
      <option value="July">
      <option value="August">
      <option value="September">
      <option value="October">
      <option value="November">
      <option value="December">
      </datalist>
      <input type="text" id="graduation-year" name="graduation-year" >
      </div>
<!--gives checkbox option in the form -->      
        <p>why did you like the university?</p>
        <div class="form-check">
        <input type="checkbox" id="students" name="students" value="students">
        <label for="students">Students</label>
        </div>
        <div class="form-check">
        <input type="checkbox" id="location" name="location" value="location">
        <label for="location">Location</label>
        </div>
        <div class="form-check">
        <input type="checkbox" id="campus" name="campus" value="campus">
        <label for="campus">Campus</label>
        </div>
        <div class="form-check">
        <input type="checkbox" id="atmosphere" name="atmosphere" value="atmosphere">
        <label for="atmosphere">Atmosphere</label>
        </div>
        <div class="form-check">
        <input type="checkbox" id="dorm-rooms" name="dorm-rooms" value="dorm-rooms">
        <label for="dorm-rooms">Dorm rooms</label>
        </div>
        <div class="form-check">
        <input type="checkbox" id="sports" name="sports" value="sports">
        <label for="sports">Sports</label>
        </div>
<!--gives radio buttons for the form in the survey page-->
            <h4>tell how did you know about the university?</h4>
           
              <div class="form-check">
                <input type="radio" class="form-check-input" id="radio1" name="optradio" value="something" >
                <label class="form-check-label" for="radio1">friends</label>
              </div>
              <div class="form-check">
                <input type="radio" class="form-check-input" id="radio2" name="optradio" value="something">
                <label class="form-check-label" for="radio2">Television</label>
              </div>
              <div class="form-check">
                <input type="radio" class="form-check-input" id="radio3" name="optradio" value="something">
                <label class="form-check-label" for="radio3">internet</label>
              </div>
              <div class="form-check">
                <input type="radio" class="form-check-input" id="radio4" name="optradio" value="something">
                <label class="form-check-label" for="radio4">others</label>
              </div>
           
      <!--comments box area for the form-->   
       <p>
            <h4>Comments</h4>
            <form>
              <div class="form-group">
                <textarea class="form-control" rows="7" cols="50" id="comment"></textarea>
              </div>
        </p>
      <!--list of items of options that are to be selected-->
          <h4>likelihood of him/her recommending this school to other prospective students</h4>
          <div class="form-group">
            <label for="opinion">opinion/recommendation:</label>
            <select name="options" id="options">
              <option value="likely">likely</option>
              <option value="very likely">very likely</option>
              <option value="Un likely">Un likely</option>
            </select>
          </div>
          <div class="container">
            <div class="row">
              <div class="col-md-6 mx-auto">
                <div class="card">
                  <div class="card-header">
                    Data
                  </div>
                  <div class="card-body">
                    <input type="text" class="form-control" id="data" placeholder="enter data with ," onblur="avgandmax()">
                    <div class="mt-3">
                      <span id="average"></span>
                    </div>
                    <div class="mt-3">
                      <span id="maximum"></span>
                    </div>
                    <div class="mt-3">
                      <span id="error-output" class="text-danger"></span>                 
                     </div>
                </div>
              </div>
            </div>
          </div> 
    <!-- submit button in the form that helps to submit the form-->
        <input class="btn btn-primary" type = "submit" value="submit form" onclick="return validation()">
        <input class="btn btn-primary" type = "reset" value="reset form" onclick="return reset()">
        <div style="background-color: #FFCC33;">
          <div style="text-align: left; padding-left: 10px;">
              
            <b>
            <p>George mason university</p>
            <p>4400 University Drive</p>
            <p>FAIRFAX CITY, VA 22030</p>
            <p>703-993-1000</p>
            </b>
         
          </div>
          <div  style="text-align: right; padding-right: 10px">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTu7JFWqMCJ35iw4UM48dMwfz2q8RJ--erqrZbEO4sz7g&usqp=CAU&ec=48600113" alt="gmu" width="250" height="150"> 
        </div>
      </form> 
      
</body>
</html>